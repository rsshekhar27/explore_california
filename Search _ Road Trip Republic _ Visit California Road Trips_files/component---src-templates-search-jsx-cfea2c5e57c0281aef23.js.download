(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{240:function(e,t,a){"use strict";a.r(t);var i=a(84),n=a.n(i),s=a(33),o=a(2),r=a.n(o),l=a(263),c=(a(5),a(30),a(85)),d=a.n(c),u=a(31),b=a.n(u),p=a(251),g=(a(6),a(7),a(4),a(412)),m=a.n(g),h=(a(230),function(e){var t=Object.assign({},e);return Object(s.b)(r.a.Fragment,null,Object(s.b)(p.a,{wrapper:t.heading.wrapper,heading:t.heading.heading,content:t.heading.content}),Object(s.b)(m.a,{className:"o-filterToolRanges__range",min:t.minValue,max:t.maxValue,marks:t.rangeValues.marks,step:t.rangeValues.step,defaultValue:t.values,onAfterChange:void 0!==t.onAfterChange?t.onAfterChange.bind(void 0,t.filterName):void 0}))}),f=a(271),_=(a(248),a(255)),v=a(284),O=a(247),j={min:0,max:1e3,marks:{0:0,100:100,200:200,300:300,400:400,500:500,600:600,700:700,800:800,900:900,1000:1e3},step:null,defaultValue:[200,400]},C={min:1,max:10,marks:{1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10},step:null,defaultValue:[2,6]},k="m-cardListIntro__wrapper --twoThirds";function N(e){return e.map(function(e){return{id:e.machine_name,value:e.title,isChecked:!1}})}var T=function(e){function t(t){var a;return(a=e.call(this,t)||this).handleClick=function(e){e.preventDefault();var t=e.target.attributes.getNamedItem("data-group").value;if("activities"==t){var i=a.state.activities;i.forEach(function(e){e.value===event.target.value&&(e.isChecked=event.target.checked)}),a.setState({activities:i})}if("destinations"==t){var n=a.state.destinations;n.forEach(function(e){e.value===event.target.value&&(e.isChecked=event.target.checked)}),a.setState({destinations:n})}},a.onSliderAfterChange=function(e,t){"distance"==e&&a.setState({distance:[t[0],t[1]]}),"duration"==e&&a.setState({duration:[t[0],t[1]]})},a.getSelectedFilters=function(e){var t=[];return"destinations"==e?(a.state.destinations.map(function(e){e.isChecked&&t.push(e.value)}),t):"activities"==e?(a.state.activities.map(function(e){e.isChecked&&t.push(e.value)}),t):void 0},a.showSearchResults=function(){a.setState(Object.assign({},a.state,{filters:!1,results:!0}))},a.showSearchFilters=function(){a.setState(Object.assign({},a.state,{filters:!0,results:!1}))},a.TopscrollTo=function(){this.state.results&&window.scrollTo(0,0)},a.state={filters:!0,results:!1,activities:N(t.activities),destinations:N(t.destinations),categories:[],duration:[2,6],distance:[250,450]},a.handleClick=a.handleClick.bind(d()(a)),a.onSliderAfterChange=a.onSliderAfterChange.bind(d()(a)),a}return b()(t,e),t.prototype.render=function(){var e=this,t=this.props.t,a=t("Days"),i=t("Miles"),o={topLine:"",level:"1",className:"m-cardListIntro__heading",heading:t("Road Trip Finder")},l={className:"m-cardListIntro__content--hiddenMob",content:t("Select your favorites and discover the right road trips for you.")},c={topLine:"",wrapper:"m-cardListIntro__wrapper",heading:{level:"3",className:"m-cardListIntro__heading",heading:t("Regions of California")},content:{className:"m-cardListIntro__content--hiddenMob",content:""}},d={topLine:"",wrapper:"m-cardListIntro__wrapper",heading:{level:"3",className:"m-cardListIntro__heading",heading:t("Activities")},content:{className:"m-cardListIntro__content--hiddenMob",content:""}},u={topLine:"",wrapper:"m-cardListIntro__wrapper",heading:{level:"3",className:"m-cardListIntro__heading",heading:t("duration")},content:{className:"m-cardListIntro__content--hiddenMob",content:t("Choose the range of days you plan to spend on your trip.")}},b={topLine:"",wrapper:"m-cardListIntro__wrapper",heading:{level:"3",className:"m-cardListIntro__heading",heading:t("distance")},content:{className:"m-cardListIntro__content--hiddenMob",content:t("Choose the range of distance you expect to drive for this trip.")}},g=t("Click Submit Button"),m=t("Submit"),O=t("Click Refine Button"),N=t("Refine"),T={topLine:"",level:"1",className:"m-cardListIntro__heading m-cardListIntro__heading--searchResults",heading:t("Search results"),content:{className:"m-cardListIntro__content--hiddenMob",content:""}};this.TopscrollTo();var y=function(t){var a=t.intro;return Object(s.b)("section",{className:"o-filterToolOptions"},Object(s.b)(p.a,{wrapper:a.wrapper,heading:a.heading,content:a.content}),Object(s.b)("div",{className:"o-filterToolOptions__grid"},e.state.activities.map(function(t){var a;return Object(s.b)("div",{key:t.id,className:"o-filterToolOptions__grid--option"},Object(s.b)(v.a,((a={labelClass:"o-filterToolOptions__grid--option__label",class:"o-filterToolOptions__grid--option__input",type:"checkbox",group:"activities",name:t.value,label:t.value,value:t.value}).name=t.value,a.handleClick=e.handleClick,a.checked=t.isChecked,a)),Object(s.b)("span",{className:"o-filterToolOptions__grid--option__input--custom"}))})))},L=function(t){var a=t.intro;return Object(s.b)("section",{className:"o-filterToolOptions"},Object(s.b)(p.a,{wrapper:a.wrapper,heading:a.heading,content:a.content}),Object(s.b)("div",{className:"o-filterToolOptions__grid"},e.state.destinations.map(function(t){var a;return Object(s.b)("div",{key:t.id,className:"o-filterToolOptions__grid--option"},Object(s.b)(v.a,((a={labelClass:"o-filterToolOptions__grid--option__label",class:"o-filterToolOptions__grid--option__input",type:"checkbox",group:"destinations",name:t.value,label:t.value,value:t.value}).name=t.value,a.handleClick=e.handleClick,a.checked=t.isChecked,a)),Object(s.b)("span",{className:"o-filterToolOptions__grid--option__input--custom"}))})))};return Object(s.b)(r.a.Fragment,null,Object(s.b)("div",{id:"p-filterToolPageFilters",className:this.state.filters?"p-filterToolPage__filters container":"p-filterToolPage__filters p-filterToolPage__filters--hidden"},Object(s.b)(p.a,{topLine:o.topLine,backLogo:!0,wrapper:k,heading:o,content:l}),Object(s.b)(function(){return Object(s.b)(r.a.Fragment,null,Object(s.b)(L,{intro:c}),Object(s.b)(y,{intro:d}),Object(s.b)("section",{className:"o-filterToolRanges"},Object(s.b)(h,{filterName:"duration",heading:u,rangeValues:C,maxValue:C.max,minValue:C.min,values:e.state.duration,onAfterChange:e.onSliderAfterChange}),Object(s.b)(h,{filterName:"distance",heading:b,rangeValues:j,values:e.state.distance,maxValue:j.max,minValue:j.min,onAfterChange:e.onSliderAfterChange})))},null),this.state.filters&&Object(s.b)(f.a,{class:"o-filterTool__applyButton",title:g,copy:m,handleClick:this.showSearchResults})),Object(s.b)("div",{id:"p-filterToolPageResults",className:this.state.results?"p-filterToolPage__results container":"p-filterToolPage__results p-filterToolPage__results--hidden",key:this.state.refineClicks},Object(s.b)("div",{className:"p-filterToolPage__results--header"},Object(s.b)("div",{className:"p-filterToolPage__results--header--left"},Object(s.b)(p.a,{topLine:T.topLine,backLogo:!0,wrapper:k,heading:T,content:T.content})),this.state.results&&!this.state.filters&&Object(s.b)(f.a,{class:"btn btn--small",title:O,copy:N,handleClick:this.showSearchFilters})),Object(s.b)("div",null,this.state.results?Object(s.b)("section",{className:"o-categoriesCard"},Object(s.b)("div",{className:"o-categoriesCard__grid"},this.props.edges.map(function(t,o){var r=e.getSelectedFilters("destinations"),l=t.node.destination.some(function(e){return-1!==r.indexOf(e)}),c=e.getSelectedFilters("activities"),d=t.node.activity.some(function(e){return-1!==c.indexOf(e)}),u=e.state.duration[0],b=e.state.duration[1],p=!1;if(t.node.durationMin>=u&&t.node.durationMax<=b)p=!0;var g=t.node.distance,m=!1;if((g-e.state.distance[0])*(g-e.state.distance[1])<=0)m=!0;if(!0===p&&!0===m){if(0==c.length&&0==r)return Object(s.b)("div",{className:"o-categoriesCard__grid--card",key:o},Object(s.b)(_.a,n()({cardSize:"small",headingType:"5"},t.node,{iconSize:"small",days:a,miles:i})));if(l&&0==d)return Object(s.b)("div",{className:"o-categoriesCard__grid--card",key:o},Object(s.b)(_.a,n()({cardSize:"small",headingType:"5"},t.node,{iconSize:"small",days:a,miles:i})));if(0==l&&d)return Object(s.b)("div",{className:"o-categoriesCard__grid--card",key:o},Object(s.b)(_.a,n()({cardSize:"small",headingType:"5"},t.node,{iconSize:"small",days:a,miles:i})));if(l&&d)return Object(s.b)("div",{className:"o-categoriesCard__grid--card",key:o},Object(s.b)(_.a,n()({cardSize:"small",headingType:"5"},t.node,{iconSize:"small",days:a,miles:i})))}}))):null)))},t}(o.Component),y=Object(O.d)()(T);a.d(t,"query",function(){return L});var L="47984228";t.default=function(e){var t=e.pageContext,a=e.data,i=a.allRoadTrips,o=a.activities,r=a.destinations;return Object(s.b)(l.a,{pageContext:t},Object(s.b)("div",{className:"p-filterToolPage"},Object(s.b)(y,n()({},i,{activities:o.nodes,destinations:r.nodes}))))}},248:function(e,t,a){"use strict";var i=a(2),n=a.n(i);t.a=function(e){return n.a.createElement("h"+e.heading.level,{className:""+e.heading.className},""+e.heading.heading)}},251:function(e,t,a){"use strict";a(257);var i=a(33),n=a(248),s=a(253),o=a(3),r=a.n(o),l=(a(2),a(258)),c=a.n(l),d=a(259),u=a.n(d),b=(a(250),a(247)),p=function(e){var t=Object(b.c)()[1];return e.heading.level=1,Object(i.b)("div",{className:"m-cardListIntro "+(e.big?"m-cardListIntro--big":null)},Object(i.b)("div",{className:e.wrapper},e.backLogo?Object(i.b)("div",{className:"a-sectionBackButtonLogo"},Object(i.b)(s.a,{to:"/"},"zh-Hans"!=t.language?Object(i.b)("img",{className:e.content.language,src:c.a,alt:"Road Trip Republic logo",title:"Road  Trip Republic"}):Object(i.b)("img",{src:u.a,alt:"Road Trip Republic logo",title:"Road Trip Republic"}))):null,e.topLine?Object(i.b)("span",{className:"m-cardListIntro__topLine"}):null,e.subHeading?Object(i.b)("h5",{className:"m-cardListIntro__subHeading"},e.subHeading):null,Object(i.b)(n.a,{heading:e.heading}),e.content.content?Object(i.b)("p",{className:e.content.class},e.content.content):null))};t.a=p,p.propTypes={topLine:r.a.string,big:r.a.bool,wrapper:r.a.string.isRequired,subHeading:r.a.string,heading:r.a.object.isRequired,backLogo:r.a.bool}},253:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var i=a(84),n=a.n(i),s=a(156),o=a.n(s),r=a(33),l=a(246),c=a(247),d=a(250),u=a(256),b=a.n(u);function p(e){var t=e.to,a=e.children,i=o()(e,["to","children"]),s=Object(c.c)()[1],u=Object(d.b)(s);return Object(r.b)(l.a,n()({to:b.a.applyPathPrefix(u.pathPrefix,t)},i),a)}},255:function(e,t,a){"use strict";a(30);var i=a(33),n=(a(2),a(252)),s=a.n(n),o=a(246),r=a(248),l=a(3),c=a.n(l),d=(a(249),a(261),function(e){var t=Object.assign({},e),a={level:t.headingType,className:"m-fullCard__title",heading:t.title};return Object(i.b)("article",{key:t.key,className:"m-fullCard m-fullCard--"+t.cardSize},t.image?Object(i.b)("div",{className:"m-fullCard__image"},Object(i.b)(s.a,{alt:t.title?t.title:null,fluid:t.image.childImageSharp.fluid,style:{position:"static"}})):null,Object(i.b)(o.a,{alt:t.title,title:t.title,className:"m-fullCard__link",to:t.fields.slug?""+t.fields.slug:null},Object(i.b)("div",{className:"m-fullCard__description"},Object(i.b)(r.a,{heading:a}),Object(i.b)("div",{className:"m-fullCard__extra"},Object(i.b)("span",null,t.durationMin," - ",t.durationMax," ",t.days)," ","/"," ",Object(i.b)("span",null,t.distance," ",t.miles)))))});t.a=d;d.propTypes={cardSize:c.a.string.isRequired,iconsTop:c.a.bool,time:c.a.string,length:c.a.string,heading:c.a.array},d.defaultProps={title:"Road Trip Titlte",durationMin:"0",durationMax:"10",days:"Days",distance:"0",miles:"Miles"}},258:function(e,t,a){e.exports=a.p+"static/RoadTrip_mark_horizontal-b1401105ca0c5c085ef6c7cd5313955e.png"},259:function(e,t,a){e.exports=a.p+"static/RoadTrip_mark_horizontal-cn-88fec249566e53ed9591b8f6f4e6dc6c.png"},271:function(e,t,a){"use strict";var i=a(33),n=(a(2),a(3)),s=a.n(n),o=function(e){return Object(i.b)("button",{className:e.class,type:"button",disabled:!!e.disabled,title:e.title,onClick:e.handleClick},e.copy,e.withIcon?e.withIcon:null)};t.a=o,o.propTypes={class:s.a.string.isRequired,disabled:s.a.bool,title:s.a.string.isRequired,handleClick:s.a.func,copy:s.a.string.isRequired,withIcon:s.a.object}},284:function(e,t,a){"use strict";a(5);var i=a(33),n=a(2),s=a.n(n),o=a(3),r=a.n(o),l=function(e){return Object(i.b)(s.a.Fragment,null,Object(i.b)("input",{"data-group":e.group,className:e.class,type:e.type,name:e.name,id:e.name,required:e.required,placeholder:e.placeholder,autoComplete:e.autocomplete,autoFocus:e.autofocus,disabled:e.disabled,maxLength:e.maxlength,value:e.value,min:e.min,max:e.max,onChange:e.onChange,defaultChecked:e.checked,onClick:e.handleClick}),e.withIcon?e.withIcon:null,Object(i.b)("label",{className:e.labelClass,htmlFor:e.name},e.label))};t.a=l,l.propTypes={dataGroup:r.a.string,name:r.a.string,label:r.a.string,class:r.a.string,type:r.a.string.isRequired,required:r.a.bool,placeholder:r.a.oneOfType([r.a.string,r.a.number]),autocomplete:r.a.string,autofocus:r.a.string,disabled:r.a.bool,maxlength:r.a.number,min:r.a.number,max:r.a.number,value:r.a.string,onChange:r.a.func,handleClick:r.a.func,withIcon:r.a.object}}}]);